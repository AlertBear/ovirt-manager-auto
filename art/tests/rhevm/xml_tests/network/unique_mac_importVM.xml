<input>
<test_case>
  <test_name>START_GROUP:PrepareSetup</test_name>
  <test_action/>
  <parameters/>
  <positive>NONE</positive>
  <run>yes</run>
  <fetch_output/>
  <report/>
  <vital>FALSE</vital>
  <test_description/>
</test_case>
<test_case>
  <test_name>Create Data Center ISCSI</test_name>
  <test_action>addDataCenter</test_action>
  <parameters>name='{datacenter}',storage_type='e{storage_type_iscsi}',version='{compatibility_version}'</parameters>
  <positive>TRUE</positive>
  <fetch_output/>
  <report>YES</report>
  <vital>TRUE</vital>
  <test_description/>
</test_case>
<test_case>
  <test_name>Create Cluster</test_name>
  <test_action>addCluster</test_action>
  <parameters>name='{cluster}',cpu='{cpu_name}',data_center='{datacenter}',version='{compatibility_version}'</parameters>
  <positive>TRUE</positive>
  <run>YES</run>
  <fetch_output/>
  <report>YES</report>
  <vital>TRUE</vital>
  <test_description/>
</test_case>
<test_case>
  <test_name>Adding Host</test_name>
  <test_action>addHost</test_action>
  <parameters>name='{vds[0]}',root_password='{vds_password[0]}',cluster='{cluster}',vdcPort='{port}'</parameters>
  <positive>TRUE</positive>
  <run>YES</run>
  <fetch_output/>
  <report>YES</report>
  <vital>TRUE</vital>
  <test_description/>
</test_case>
<test_case>
  <test_name>Create sw1 Logical Network</test_name>
  <test_action>addNetwork</test_action>
  <parameters>name='{networks[0]}',data_center='{datacenter}'</parameters>
  <positive>TRUE</positive>
  <run>yes</run>
  <fetch_output/>
  <report>YES</report>
  <vital>FALSE</vital>
  <test_description/>
</test_case>
<test_case>
  <test_name>Create Logical Network sw2</test_name>
  <test_action>addNetwork</test_action>
  <parameters>name='{networks[1]}',data_center='{datacenter}'</parameters>
  <positive>TRUE</positive>
  <run>yes</run>
  <fetch_output/>
  <report>YES</report>
  <vital>FALSE</vital>
  <test_description/>
</test_case>
<test_case>
   <test_name>Attach sw1 Cluster as required</test_name>
   <test_action>addNetworkToCluster</test_action>
   <parameters>network='{networks[0]}', cluster='{cluster}', required='true'</parameters>
   <positive>TRUE</positive>
   <run>yes</run>
   <fetch_output/>
   <report>YES</report>
   <vital>FALSE</vital>
   <test_description/>
</test_case>
<test_case>
   <test_name>Attach sw2 Cluster as required</test_name>
   <test_action>addNetworkToCluster</test_action>
   <parameters>network='{networks[1]}', cluster='{cluster}', required='true'</parameters>
   <positive>TRUE</positive>
   <run>yes</run>
   <fetch_output/>
   <report>YES</report>
   <vital>FALSE</vital>
   <test_description/>
</test_case>
<test_case>
   <test_name>Add ISCSI Domain</test_name>
   <test_action>addISCSIDataDomain</test_action>
   <parameters>host='{vds[0]}',storage='{storage}',data_center='{datacenter}',lun='{lun[0]}',lun_address='{lun_address[0]}',lun_target='{lun_target[0]}'</parameters>
   <positive>NONE</positive>
   <run>YES</run>
   <fetch_output/>
   <report>YES</report>
   <vital>TRUE</vital>
   <test_description/>
</test_case>
<test_case>
   <test_name>Create VM</test_name>
   <test_action>addVm</test_action>
   <parameters>name='{vm_name[0]}',cluster='{cluster}'</parameters>
   <positive>TRUE</positive>
   <run>yes</run>
   <fetch_output/>
   <report>YES</report>
   <vital>FALSE</vital>
   <test_description/>
</test_case>
<test_case>
   <test_name>Add sw1 network to VM with legal mac</test_name>
   <test_action>addNic</test_action>
   <parameters>vm='{vm_name[0]}',name='nic1',network='{networks[0]}',mac_address='00:11:22:33:44:58'</parameters>
   <positive>True</positive>
   <run>yes</run>
   <fetch_output/>
   <report>YES</report>
   <vital>FALSE</vital>
   <test_description/>
</test_case>

<test_case>
   <test_name>Create NFS export storage domain</test_name>
   <test_action>addStorageDomain</test_action>
   <parameters>name='ImpExp_{data_center_type}',type='e{storage_dom_type_export}',storage_type='e{storage_type_nfs}',address='{export_domain_address[0]}' ,host='{vds[0]}',path='{export_domain_path[0]}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <fetch_output/>
   <report>YES</report>
   <vital>TRUE</vital>
</test_case>
<test_case>
   <test_name>Attach export storage domain to data center '{data_center_type}'</test_name>
   <test_action>attachStorageDomain</test_action>
   <parameters>datacenter='{datacenter}',storagedomain='ImpExp_{data_center_type}'</parameters>
   <positive>TRUE</positive>
   <run>yes</run>
   <fetch_output/>
   <vital>TRUE</vital>
</test_case>
<test_case>
   <test_name>Activate export storage domain '{data_center_type}'</test_name>
   <test_action>activateStorageDomain</test_action>
   <parameters>datacenter='{datacenter}',storagedomain='ImpExp_{data_center_type}'</parameters>
   <positive>TRUE</positive>
   <run>yes</run>
   <fetch_output/>
   <vital>TRUE</vital>
</test_case>
<test_case>
   <test_name>Export VM '{data_center_type}'</test_name>
   <test_action>exportVm</test_action>
   <parameters>vm='{vm_name[0]}',storagedomain='ImpExp_{data_center_type}'</parameters>
   <positive>TRUE</positive>
   <run>yes</run>
   <fetch_output/>
</test_case>

<test_case>
   <test_name>Remove VM</test_name>
   <test_action>removeVm</test_action>
   <parameters>vm='{vm_name[0]}'</parameters>
   <positive>TRUE</positive>
   <run>yes</run>
   <fetch_output/>
   <report>YES</report>
   <vital>TRUE</vital>
   <test_description/>
</test_case>



<test_case>
   <test_name>Create VM</test_name>
   <test_action>addVm</test_action>
   <parameters>name='{vm_name[1]}',cluster='{cluster}'</parameters>
   <positive>TRUE</positive>
   <run>yes</run>
   <fetch_output/>
   <report>YES</report>
   <vital>FALSE</vital>
   <test_description/>
</test_case>
<test_case>
   <test_name>Add sw1 network to VM with legal mac</test_name>
   <test_action>addNic</test_action>
   <parameters>vm='{vm_name[1]}',name='nic1',network='{networks[0]}',mac_address='00:11:22:33:44:58'</parameters>
   <positive>True</positive>
   <run>yes</run>
   <fetch_output/>
   <report>YES</report>
   <vital>FALSE</vital>
   <test_description/>
</test_case>

<test_case>
   <test_name>Import exported VM after VM removal '{data_center_type}'</test_name>
   <test_action>importVm</test_action>
   <parameters>vm='{vm_name[0]}',import_storagedomain='{storage}',export_storagedomain='ImpExp_{data_center_type}',cluster='{cluster}'</parameters>
   <positive>True</positive>
   <run>yes</run>
   <fetch_output/>
</test_case>

<test_case>
  <test_name>END_GROUP:PrepareSetup</test_name>
  <test_action/>
  <parameters/>
  <positive>NONE</positive>
  <run/>
  <fetch_output/>
  <report/>
  <vital/>
  <test_description/>
</test_case>
</input>


