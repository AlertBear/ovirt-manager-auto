<?xml version="1.0" encoding="UTF-8"?>
<!-- vim: set ts=3 sw=3 expandtab: -->
<?xml-stylesheet type="text/xsl" href="table.xslt"?>

<input>
<test_case>
   <test_name>START_GROUP: Corrupt_metadata</test_name>
   <test_action/>
   <parameters/>
   <positive>NONE</positive>
   <run/>
   <report/>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Create ISCSI Data Center</test_name>
   <test_action>addDataCenter</test_action>
   <parameters>name='TestDataCenter', storage_type='e{storage_type_iscsi}', version='{compatibility_version}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Create Cluster</test_name>
   <test_action>addCluster</test_action>
   <parameters>name='TestCluster', cpu='{cpu_name}', version='{compatibility_version}', data_center='TestDataCenter'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Add Host</test_name>
   <test_action>addHost</test_action>
   <parameters>name='{vds[0]}', root_password='{vds_password[0]}', cluster='TestCluster'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>iSCSI Discover</test_name>
   <test_action>iscsiDiscover</test_action>
   <parameters>host='{vds[0]}', address='{master_lun_address}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>iSCSI Login</test_name>
   <test_action>iscsiLogin</test_action>
   <parameters>host='{vds[0]}', address='{master_lun_address}', target='{master_lun_target}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Create Data Storage Domain iSCSI</test_name>
   <test_action>addStorageDomain</test_action>
   <parameters>name='ISCSIDataDomain', type='e{storage_dom_type_data}', storage_type='e{storage_type_iscsi}', host='{vds[0]}', lun='{master_lun}', lun_address='{master_lun_address}', lun_target='{master_lun_target}', lun_port=3260</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Attach Data Storage Domain to Data Center</test_name>
   <test_action>attachStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>iSCSI Discover</test_name>
   <test_action>iscsiDiscover</test_action>
   <parameters>host='{vds[0]}', address='{lun_address[0]}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>iSCSI Login</test_name>
   <test_action>iscsiLogin</test_action>
   <parameters>host='{vds[0]}', address='{lun_address[0]}', target='{lun_target[0]}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Create Non-Master Data Storage Domain iSCSI </test_name>
   <test_action>addStorageDomain</test_action>
   <parameters>name='ISCSIDataDomain2', type='e{storage_dom_type_data}', storage_type='e{storage_type_iscsi}', host='{vds[0]}', lun='{lun[0]}', lun_address='{lun_address[0]}', lun_target='{lun_target[0]}', lun_port=3260</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Attach Non-Master Data Storage Domain to Data Center</test_name>
   <test_action>attachStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain2'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Active Non-Master Storage Domain</test_name>
   <test_action>activateStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain2'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Create and Start VM</test_name>
   <test_action>createVm</test_action>
   <parameters>vmName='testVm', vmDescription='Test VM', cluster='TestCluster', nic='nic1', nicType='e{nic_type_virtio}', storageDomainName='ISCSIDataDomain', size=2147483648, diskType='e{disk_type_system}', volumeFormat='e{format_cow}', diskInterface='e{interface_ide}', bootable='true', wipe_after_deletion='false', start='true', network='{mgmt_bridge}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Create Meta Data Corruption</test_name>
    <test_action>generateSDMetadataCorruption</test_action>
    <parameters>vds_name='{vds[0]}', username='root', passwd='{vds_password[0]}', sd_name='ISCSIDataDomain', md_tag='MDT_MASTER_VERSION', md_tag_bad_value='-1'</parameters>
   <positive>NONE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output>sd_obj->sd_obj</fetch_output>
</test_case>
<test_case>
   <test_name>Trigger metadata failure</test_name>
   <test_action>runMachineCommand</test_action>
   <parameters>ip='{vds[0]}', user='root', password='{vds_password[0]}', cmd="vdsClient {ssl} 0 getStorageDomainInfo `vdsClient {ssl} 0 getStoragePoolInfo $(vdsClient {ssl} 0 getConnectedStoragePoolsList) | grep master_uuid | cut -f 2 -d =`"</parameters>
   <positive>FALSE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Wait till DC is problematic</test_name>
   <test_action>waitForDataCenterState</test_action>
   <parameters>name='TestDataCenter', state='e{data_center_state_problematic}'</parameters>
   <positive>NONE</positive>
   <run>YES</run>
</test_case>
<test_case>
   <test_name>Wait till DC comes UP</test_name>
   <test_action>waitForDataCenterState</test_action>
   <parameters>name='TestDataCenter'</parameters>
   <positive>NONE</positive>
   <run>YES</run>
</test_case>
<test_case>
   <test_name>Wait For Storage Domain Status</test_name>
   <test_action>waitForStorageDomainStatus</test_action>
   <parameters>dataCenterName='TestDataCenter', storageDomainName='ISCSIDataDomain', expectedStatus='e{storage_domain_state_inactive}', timeOut=1800</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <bz>853710</bz>
</test_case>
<test_case>
   <test_name>Check if host SPM</test_name>
   <test_action>checkHostSpmStatus</test_action>
   <parameters>hostName='{vds[0]}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Check if Storage Domain is a Master</test_name>
   <test_action>isStorageDomainMaster</test_action>
   <parameters>dataCenterName='TestDataCenter', storageDomainName='ISCSIDataDomain2'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Validate Data Center Status</test_name>
   <test_action>validateEntityStatus</test_action>
   <parameters>element='data_center', collection='datacenters', elementName='TestDataCenter', expectedStatus='up'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Validate Storage Domain Status</test_name>
   <test_action>validateEntityStatus</test_action>
   <parameters>element='storagedomain', collection='storagedomains', elementName='ISCSIDataDomain2', expectedStatus='e{storage_domain_state_active}', dcName='TestDataCenter'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Try Activate Non-Master Storage Domain</test_name>
   <test_action>activateStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain'</parameters>
   <positive>FALSE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Restore metadata</test_name>
   <test_action>restoreSDOriginalMetadata</test_action>
   <parameters>sd_obj=%sd_obj%</parameters>
   <positive>NONE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Active Non-Master Storage Domain</test_name>
   <test_action>activateStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <bz>854140</bz>
</test_case>
<test_case>
   <test_name>Active Non-Master Storage Domain</test_name>
   <test_action>activateStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
</test_case>
<test_case>
   <test_name>Validate Storage Domain Status</test_name>
   <test_action>validateEntityStatus</test_action>
   <parameters>element='storagedomain', collection='storagedomains', elementName='ISCSIDataDomain', expectedStatus='e{storage_domain_state_active}', dcName='TestDataCenter'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Stop and Remove Vm</test_name>
   <test_action>removeVm</test_action>
   <parameters>vm='testVm', stopVM='true'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Deactivate Non-Master Storage Domain</test_name>
   <test_action>deactivateStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Detach Inactive Storage Domain</test_name>
   <test_action>detachStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Remove Non-Master Storage Domain</test_name>
   <test_action>removeStorageDomain</test_action>
   <parameters>storagedomain='ISCSIDataDomain', host='{vds[0]}', format='true'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Deactivate Master Storage Domain</test_name>
   <test_action>deactivateStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain2'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Remove Data Centers</test_name>
   <test_action>removeDataCenters</test_action>
   <parameters>datacenters='TestDataCenter'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Remove Master Storage Domain</test_name>
   <test_action>removeStorageDomain</test_action>
   <parameters>storagedomain='ISCSIDataDomain2', host='{vds[0]}', format='true'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Set Active Host To Maintenance</test_name>
   <test_action>deactivateHost</test_action>
   <parameters>host='{vds[0]}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Remove Inactive Host</test_name>
   <test_action>removeHost</test_action>
   <parameters>host='{vds[0]}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Remove Clusters</test_name>
   <test_action>removeClusters</test_action>
   <parameters>clusters='TestCluster'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>END_GROUP: Corrupt_metadata</test_name>
   <test_action/>
   <parameters/>
   <positive>NONE</positive>
   <run/>
   <report/>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>START_GROUP: Wrong_master_version</test_name>
   <test_action/>
   <parameters/>
   <positive>NONE</positive>
   <run/>
   <report/>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Create ISCSI Data Center</test_name>
   <test_action>addDataCenter</test_action>
   <parameters>name='TestDataCenter', storage_type='e{storage_type_iscsi}', version='{compatibility_version}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Create Cluster</test_name>
   <test_action>addCluster</test_action>
   <parameters>name='TestCluster', cpu='{cpu_name}', version='{compatibility_version}', data_center='TestDataCenter'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Add Host</test_name>
   <test_action>addHost</test_action>
   <parameters>name='{vds[0]}', root_password='{vds_password[0]}', cluster='TestCluster'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>iSCSI Discover</test_name>
   <test_action>iscsiDiscover</test_action>
   <parameters>host='{vds[0]}', address='{master_lun_address}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>iSCSI Login</test_name>
   <test_action>iscsiLogin</test_action>
   <parameters>host='{vds[0]}', address='{master_lun_address}', target='{master_lun_target}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Create Data Storage Domain iSCSI</test_name>
   <test_action>addStorageDomain</test_action>
   <parameters>name='ISCSIDataDomain', type='e{storage_dom_type_data}', storage_type='e{storage_type_iscsi}', host='{vds[0]}', lun='{master_lun}', lun_address='{master_lun_address}', lun_target='{master_lun_target}', lun_port=3260</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Attach Data Storage Domain to Data Center</test_name>
   <test_action>attachStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>iSCSI Discover</test_name>
   <test_action>iscsiDiscover</test_action>
   <parameters>host='{vds[0]}', address='{lun_address[0]}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>iSCSI Login</test_name>
   <test_action>iscsiLogin</test_action>
   <parameters>host='{vds[0]}', address='{lun_address[0]}', target='{lun_target[0]}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Create Non-Master Data Storage Domain iSCSI </test_name>
   <test_action>addStorageDomain</test_action>
   <parameters>name='ISCSIDataDomain2', type='e{storage_dom_type_data}', storage_type='e{storage_type_iscsi}', host='{vds[0]}', lun='{lun[0]}', lun_address='{lun_address[0]}', lun_target='{lun_target[0]}', lun_port=3260</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Attach Non-Master Data Storage Domain to Data Center</test_name>
   <test_action>attachStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain2'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Active Non-Master Storage Domain</test_name>
   <test_action>activateStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain2'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Create and Start VM</test_name>
   <test_action>createVm</test_action>
   <parameters>vmName='testVm', vmDescription='Test VM', cluster='TestCluster', nic='nic1', storageDomainName='ISCSIDataDomain', size=2147483648, diskType='e{disk_type_system}', volumeFormat='e{format_cow}', diskInterface='e{interface_ide}', bootable='true', wipe_after_deletion='false', start='true', network='{mgmt_bridge}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Change master version</test_name>
   <test_action>generateSDMetadataCorruption</test_action>
   <parameters>vds_name='{vds[0]}', username='root', passwd='{vds_password[0]}', sd_name='ISCSIDataDomain', md_tag='MDT_MASTER_VERSION', md_tag_bad_value='999'</parameters>
   <positive>NONE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output>sd_obj->sd_obj</fetch_output>
</test_case>
<test_case>
   <test_name>Trigger metadata failure</test_name>
   <test_action>runMachineCommand</test_action>
   <parameters>ip='{vds[0]}', user='root', password='{vds_password[0]}', cmd="vdsClient {ssl} 0 getStorageDomainInfo `vdsClient {ssl} 0 getStoragePoolInfo $(vdsClient {ssl} 0 getConnectedStoragePoolsList) | grep master_uuid | cut -f 2 -d =`"</parameters>
   <positive>FALSE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Wait For Storage Domain Status</test_name>
   <test_action>waitForStorageDomainStatus</test_action>
   <parameters>dataCenterName='TestDataCenter', storageDomainName='ISCSIDataDomain', expectedStatus='e{storage_domain_state_inactive}', timeOut=1800</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <bz>853710</bz>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Wait till DC comes UP</test_name>
   <test_action>waitForDataCenterState</test_action>
   <parameters>name='TestDataCenter'</parameters>
   <positive>NONE</positive>
   <run>YES</run>
</test_case>
<test_case>
   <test_name>Check if host SPM</test_name>
   <test_action>checkHostSpmStatus</test_action>
   <parameters>hostName='{vds[0]}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Check if Storage Domain is a Master</test_name>
   <test_action>isStorageDomainMaster</test_action>
   <parameters>dataCenterName='TestDataCenter', storageDomainName='ISCSIDataDomain2'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Validate Storage Domain Status</test_name>
   <test_action>validateEntityStatus</test_action>
   <parameters>element='storagedomain', collection='storagedomains', elementName='ISCSIDataDomain', expectedStatus='e{storage_domain_state_inactive}', dcName='TestDataCenter'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <bz>853710</bz>
</test_case>
<test_case>
   <test_name>Wait untill domain is activated</test_name>
   <test_action>waitForStorageDomainStatus</test_action>
   <parameters>dataCenterName='TestDataCenter', storageDomainName='ISCSIDataDomain2', expectedStatus='e{storage_domain_state_active}', timeOut=60</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Try Activate Non-Master Storage Domain</test_name>
   <test_action>activateStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain'</parameters>
   <positive>FALSE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Restore Original Checksum</test_name>
   <test_action>restoreSDOriginalMetadata</test_action>
   <parameters>sd_obj=%sd_obj%</parameters>
   <positive>NONE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Active Non-Master Storage Domain</test_name>
   <test_action>activateStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Validate Storage Domain Status</test_name>
   <test_action>validateEntityStatus</test_action>
   <parameters>element='storagedomain', collection='storagedomains', elementName='ISCSIDataDomain', expectedStatus='e{storage_domain_state_active}', dcName='TestDataCenter'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Stop and Remove Vm</test_name>
   <test_action>removeVm</test_action>
   <parameters>vm='testVm', stopVM='true'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Deactivate Non-Master Storage Domain</test_name>
   <test_action>deactivateStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Detach Inactive Storage Domain</test_name>
   <test_action>detachStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Remove Non-Master Storage Domain</test_name>
   <test_action>removeStorageDomain</test_action>
   <parameters>storagedomain='ISCSIDataDomain', host='{vds[0]}', format='true'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Deactivate Master Storage Domain</test_name>
   <test_action>deactivateStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain2'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Remove Data Centers</test_name>
   <test_action>removeDataCenters</test_action>
   <parameters>datacenters='TestDataCenter'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Remove Master Storage Domain</test_name>
   <test_action>removeStorageDomain</test_action>
   <parameters>storagedomain='ISCSIDataDomain2', host='{vds[0]}', format='true'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Set Active Host To Maintenance</test_name>
   <test_action>deactivateHost</test_action>
   <parameters>host='{vds[0]}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Remove Inactive Host</test_name>
   <test_action>removeHost</test_action>
   <parameters>host='{vds[0]}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Remove Clusters</test_name>
   <test_action>removeClusters</test_action>
   <parameters>clusters='TestCluster'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>END_GROUP: Wrong_master_version</test_name>
   <test_action/>
   <parameters/>
   <positive>NONE</positive>
   <run/>
   <report/>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>START_GROUP: Reconstruct_with_2_unreachable_domains</test_name>
   <test_action/>
   <parameters/>
   <positive>NONE</positive>
   <run/>
   <report/>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Create ISCSI Data Center</test_name>
   <test_action>addDataCenter</test_action>
   <parameters>name='TestDataCenter', storage_type='e{storage_type_iscsi}', version='{compatibility_version}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Create Cluster</test_name>
   <test_action>addCluster</test_action>
   <parameters>name='TestCluster', cpu='{cpu_name}', version='{compatibility_version}', data_center='TestDataCenter'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Add Host</test_name>
   <test_action>addHost</test_action>
   <parameters>name='{vds[0]}', root_password='{vds_password[0]}', cluster='TestCluster'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>iSCSI Discover</test_name>
   <test_action>iscsiDiscover</test_action>
   <parameters>host='{vds[0]}', address='{lun_address[0]}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>iSCSI Login</test_name>
   <test_action>iscsiLogin</test_action>
   <parameters>host='{vds[0]}', address='{lun_address[0]}', target='{lun_target[0]}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Create Master Data Storage Domain iSCSI</test_name>
   <test_action>addStorageDomain</test_action>
   <parameters>name='ISCSIDataDomain', type='e{storage_dom_type_data}', storage_type='e{storage_type_iscsi}', host='{vds[0]}', lun='{lun[0]}', lun_address='{lun_address[0]}', lun_target='{lun_target[0]}', lun_port=3260</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Attach Master Data Storage Domain to Data Center</test_name>
   <test_action>attachStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>iSCSI Discover</test_name>
   <test_action>iscsiDiscover</test_action>
   <parameters>host='{vds[0]}', address='{lun_address[1]}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>iSCSI Login</test_name>
   <test_action>iscsiLogin</test_action>
   <parameters>host='{vds[0]}', address='{lun_address[1]}', target='{lun_target[1]}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Create Standby Data Storage Domain iSCSI</test_name>
   <test_action>addStorageDomain</test_action>
   <parameters>name='ISCSIDataDomain2', type='e{storage_dom_type_data}', storage_type='e{storage_type_iscsi}', host='{vds[0]}', lun='{lun[1]}', lun_address='{lun_address[1]}', lun_target='{lun_target[1]}', lun_port=3260</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Attach Standby Data Storage Domain to Data Center</test_name>
   <test_action>attachStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain2'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Active Standby Storage Domain</test_name>
   <test_action>activateStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain2'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Create and Start VM</test_name>
   <test_action>createVm</test_action>
   <parameters>vmName='testVm', vmDescription='Test VM', cluster='TestCluster', nic='nic1', storageDomainName='ISCSIDataDomain', size=2147483648, diskType='e{disk_type_system}', volumeFormat='e{format_cow}', diskInterface='e{interface_ide}', bootable='true', wipe_after_deletion='false', start='true', network='{mgmt_bridge}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Block Outgoing Connection from Host to First Storage</test_name>
   <test_action>blockConnection</test_action>
   <parameters>source='{vds[0]}', dest='{lun_address[0]}', userName='{vds_user[0]}', password='{vds_password[0]}'</parameters>
   <positive>NONE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Block Outgoing Connection from Host to Second Storage</test_name>
   <test_action>blockConnection</test_action>
   <parameters>source='{vds[0]}', dest='{master_lun_address}', userName='{vds_user[0]}', password='{vds_password[0]}'</parameters>
   <positive>NONE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Wait untill domain is Unknown</test_name>
   <test_action>waitForStorageDomainStatus</test_action>
   <parameters>dataCenterName='TestDataCenter', storageDomainName='ISCSIDataDomain2', expectedStatus='e{storage_domain_state_unknown}', timeOut=5400</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Wait till Host is UP</test_name>
   <test_action>waitForHostsStates</test_action>
   <parameters>names='{vds[0]}'</parameters>
   <positive>true</positive>
   <run>yes</run>
   <report>yes</report>
</test_case>
<test_case>
   <test_name>Validate Storage Domain Status</test_name>
   <test_action>validateEntityStatus</test_action>
   <parameters>element='storagedomain', collection='storagedomains', elementName='ISCSIDataDomain2', expectedStatus='e{storage_domain_state_unknown}', dcName='TestDataCenter'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Validate Storage Domain Status</test_name>
   <test_action>validateEntityStatus</test_action>
   <parameters>element='storagedomain', collection='storagedomains', elementName='ISCSIDataDomain', expectedStatus='e{storage_domain_state_unknown}', dcName='TestDataCenter'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Validate Data Center Status</test_name>
   <test_action>validateEntityStatus</test_action>
   <parameters>element='data_center', collection='datacenters', elementName='TestDataCenter', expectedStatus='e{data_center_state_problematic}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Unblock Outgoing Connection from Host to First Storage</test_name>
   <test_action>unblockConnection</test_action>
   <parameters>source='{vds[0]}', dest='{lun_address[0]}', userName='{vds_user[0]}', password='{vds_password[0]}'</parameters>
   <positive>NONE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Unblock Outgoing Connection from Host to Second Storage</test_name>
   <test_action>unblockConnection</test_action>
   <parameters>source='{vds[0]}', dest='{master_lun_address}', userName='{vds_user[0]}', password='{vds_password[0]}'</parameters>
   <positive>NONE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Wait till DC comes UP</test_name>
   <test_action>waitForDataCenterState</test_action>
   <parameters>name='TestDataCenter'</parameters>
   <positive>NONE</positive>
   <run>YES</run>
</test_case>
<test_case>
   <test_name>Wait till Host is UP</test_name>
   <test_action>waitForHostsStates</test_action>
   <parameters>names='{vds[0]}'</parameters>
   <positive>true</positive>
   <run>yes</run>
   <report>yes</report>
</test_case>
<test_case>
   <test_name>Wait For Storage Domain Status</test_name>
   <test_action>waitForStorageDomainStatus</test_action>
   <parameters>dataCenterName='TestDataCenter', storageDomainName='ISCSIDataDomain', expectedStatus='e{storage_domain_state_active}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
</test_case>
<test_case>
   <test_name>Wait For Storage Domain Status</test_name>
   <test_action>waitForStorageDomainStatus</test_action>
   <parameters>dataCenterName='TestDataCenter', storageDomainName='ISCSIDataDomain2', expectedStatus='e{storage_domain_state_active}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
</test_case>
<test_case>
   <test_name>Check master is standby domain</test_name>
   <test_action>isStorageDomainMaster</test_action>
   <parameters>dataCenterName='TestDataCenter', storageDomainName='ISCSIDataDomain2'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
</test_case>
<test_case>
   <test_name>Stop and Remove Vm</test_name>
   <test_action>removeVm</test_action>
   <parameters>vm='testVm', stopVM='true'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Deactivate iSCSI Storage Domain</test_name>
   <test_action>deactivateStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Detach Inactive Storage Domain</test_name>
   <test_action>detachStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Remove Detached Storage Domain</test_name>
   <test_action>removeStorageDomain</test_action>
   <parameters>storagedomain='ISCSIDataDomain', host='{vds[0]}', format='true'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Deactivate Master Storage Domain</test_name>
   <test_action>deactivateStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain2'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Remove Data Centers</test_name>
   <test_action>removeDataCenters</test_action>
   <parameters>datacenters='TestDataCenter'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Remove Master Storage Domain</test_name>
   <test_action>removeStorageDomain</test_action>
   <parameters>storagedomain='ISCSIDataDomain2', host='{vds[0]}', format='true'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Set Active Host To Maintenance</test_name>
   <test_action>deactivateHost</test_action>
   <parameters>host='{vds[0]}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Remove Inactive Host</test_name>
   <test_action>removeHost</test_action>
   <parameters>host='{vds[0]}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Remove Clusters</test_name>
   <test_action>removeClusters</test_action>
   <parameters>clusters='TestCluster'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>END_GROUP: Reconstruct_with_2_unreachable_domains</test_name>
   <test_action/>
   <parameters/>
   <positive>NONE</positive>
   <run/>
   <report/>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>START_GROUP: Failed_Reconstruct_With_2_Domains</test_name>
   <test_action/>
   <parameters/>
   <positive>NONE</positive>
   <run/>
   <report/>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Create ISCSI Data Center</test_name>
   <test_action>addDataCenter</test_action>
   <parameters>name='TestDataCenter', storage_type='e{storage_type_iscsi}', version='{compatibility_version}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Create Cluster</test_name>
   <test_action>addCluster</test_action>
   <parameters>name='TestCluster', cpu='{cpu_name}', version='{compatibility_version}', data_center='TestDataCenter'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Add Host</test_name>
   <test_action>addHost</test_action>
   <parameters>name='{vds[0]}', root_password='{vds_password[0]}', cluster='TestCluster'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>iSCSI Discover</test_name>
   <test_action>iscsiDiscover</test_action>
   <parameters>host='{vds[0]}', address='{master_lun_address}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>iSCSI Login</test_name>
   <test_action>iscsiLogin</test_action>
   <parameters>host='{vds[0]}', address='{master_lun_address}', target='{master_lun_target}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Create Data Storage Domain iSCSI</test_name>
   <test_action>addStorageDomain</test_action>
   <parameters>name='ISCSIDataDomain', type='e{storage_dom_type_data}', storage_type='e{storage_type_iscsi}', host='{vds[0]}', lun='{master_lun}', lun_address='{master_lun_address}', lun_target='{master_lun_target}', lun_port=3260</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Attach Data Storage Domain to Data Center</test_name>
   <test_action>attachStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>iSCSI Discover</test_name>
   <test_action>iscsiDiscover</test_action>
   <parameters>host='{vds[0]}', address='{lun_address[0]}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>iSCSI Login</test_name>
   <test_action>iscsiLogin</test_action>
   <parameters>host='{vds[0]}', address='{lun_address[0]}', target='{lun_target[0]}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Create Non-Master Data Storage Domain iSCSI </test_name>
   <test_action>addStorageDomain</test_action>
   <parameters>name='ISCSIDataDomain2', type='e{storage_dom_type_data}', storage_type='e{storage_type_iscsi}', host='{vds[0]}', lun='{lun[0]}', lun_address='{lun_address[0]}', lun_target='{lun_target[0]}', lun_port=3260</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Attach Non-Master Data Storage Domain to Data Center</test_name>
   <test_action>attachStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain2'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Active Non-Master Storage Domain</test_name>
   <test_action>activateStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain2'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Create and Start VM</test_name>
   <test_action>createVm</test_action>
   <parameters>vmName='testVm', vmDescription='Test VM', cluster='TestCluster', nic='nic1', storageDomainName='ISCSIDataDomain', size=2147483648, diskType='e{disk_type_system}', volumeFormat='e{format_cow}', diskInterface='e{interface_ide}', bootable='true', wipe_after_deletion='false', start='true', network='{mgmt_bridge}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Create Meta Data Corruption</test_name>
   <test_action>generateSDMetadataCorruption</test_action>
   <parameters>vds_name='{vds[0]}', username='root', passwd='{vds_password[0]}', sd_name='ISCSIDataDomain', md_tag='MDT_MASTER_VERSION', md_tag_bad_value='-1'</parameters>
   <positive>NONE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output>sd_obj->sd_obj</fetch_output>
</test_case>
<test_case>
   <test_name>Trigger metadata failure</test_name>
   <test_action>runMachineCommand</test_action>
   <parameters>ip='{vds[0]}', user='root', password='{vds_password[0]}', cmd="vdsClient {ssl} 0 getStorageDomainInfo `vdsClient {ssl} 0 getStoragePoolInfo $(vdsClient {ssl} 0 getConnectedStoragePoolsList) | grep master_uuid | cut -f 2 -d =`"</parameters>
   <positive>FALSE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Wait for problematic data-center</test_name>
   <test_action>waitForDataCenterState</test_action>
   <parameters>name='TestDataCenter', state='e{data_center_state_contend}', timeout=600, sleep=10</parameters>
   <positive>NONE</positive>
   <run>YES</run>
   <report>YES</report>
</test_case>
<test_case>
   <test_name>Trigger reconstruction failure</test_name>
   <test_action>toggleServiceOnHost</test_action>
   <parameters>host='{vds[0]}', user='{vds_user[0]}', password='{vds_password[0]}', service='vdsmd', action='restart'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
</test_case>
<test_case>
   <test_name>Wait for problematic data-center</test_name>
   <test_action>waitForDataCenterState</test_action>
   <parameters>name='TestDataCenter', state='e{data_center_state_contend}', timeout=600, sleep=10</parameters>
   <positive>NONE</positive>
   <run>YES</run>
   <report>YES</report>
</test_case>
<test_case>
   <test_name>Wait for problematic data-center</test_name>
   <test_action>waitForDataCenterState</test_action>
   <parameters>name='TestDataCenter', timeout=300, sleep=30</parameters>
   <positive>NONE</positive>
   <run>YES</run>
   <report>YES</report>
</test_case>
<test_case>
   <test_name>Check if host SPM</test_name>
   <test_action>checkHostSpmStatus</test_action>
   <parameters>hostName='{vds[0]}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Check if Storage Domain is a Master</test_name>
   <test_action>isStorageDomainMaster</test_action>
   <parameters>dataCenterName='TestDataCenter', storageDomainName='ISCSIDataDomain2'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Check if Corrupted Storage Domain is a not Master</test_name>
   <test_action>isStorageDomainMaster</test_action>
   <parameters>dataCenterName='TestDataCenter', storageDomainName='ISCSIDataDomain'</parameters>
   <positive>FALSE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>iSCSI Discover</test_name>
   <test_action>iscsiDiscover</test_action>
   <parameters>host='{vds[0]}', address='{master_lun_address}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>iSCSI Login</test_name>
   <test_action>iscsiLogin</test_action>
   <parameters>host='{vds[0]}', address='{master_lun_address}', target='{master_lun_target}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Set Original Tag Value</test_name>
   <test_action>restoreSDOriginalMetadata</test_action>
   <parameters>sd_obj=%sd_obj%</parameters>
   <positive>NONE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Active Corrupted Storage Domain</test_name>
   <test_action>activateStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Stop and Remove Vm</test_name>
   <test_action>removeVm</test_action>
   <parameters>vm='testVm', stopVM='true'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Deactivate Non-Master Storage Domain</test_name>
   <test_action>deactivateStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Detach Inactive Storage Domain</test_name>
   <test_action>detachStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Remove Non-Master Storage Domain</test_name>
   <test_action>removeStorageDomain</test_action>
   <parameters>storagedomain='ISCSIDataDomain', host='{vds[0]}', format='true'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Deactivate Master Storage Domain</test_name>
   <test_action>deactivateStorageDomain</test_action>
   <parameters>datacenter='TestDataCenter', storagedomain='ISCSIDataDomain2'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Remove Data Centers</test_name>
   <test_action>removeDataCenters</test_action>
   <parameters>datacenters='TestDataCenter'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Remove Master Storage Domain</test_name>
   <test_action>removeStorageDomain</test_action>
   <parameters>storagedomain='ISCSIDataDomain2', host='{vds[0]}', format='true'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Set Active Host To Maintenance</test_name>
   <test_action>deactivateHost</test_action>
   <parameters>host='{vds[0]}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Remove Inactive Host</test_name>
   <test_action>removeHost</test_action>
   <parameters>host='{vds[0]}'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>Remove Clusters</test_name>
   <test_action>removeClusters</test_action>
   <parameters>clusters='TestCluster'</parameters>
   <positive>TRUE</positive>
   <run>YES</run>
   <report>YES</report>
   <fetch_output/>
</test_case>
<test_case>
   <test_name>END_GROUP: Failed_Reconstruct_With_2_Domains</test_name>
   <test_action/>
   <parameters/>
   <positive>NONE</positive>
   <run/>
   <report/>
   <fetch_output/>
</test_case>
</input>
