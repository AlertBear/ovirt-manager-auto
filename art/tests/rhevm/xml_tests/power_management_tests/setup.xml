<?xml-stylesheet type="text/xsl" href="table.xslt"?>
<input>
<test_case>
    <test_name>START_GROUP: SETUP-ENV</test_name>
    <test_action/>
    <parameters></parameters>
    <positive>NONE</positive>
    <run>YES</run>
</test_case>
<test_case>
    <test_name>Create Data Center</test_name>
    <test_action>addDataCenter</test_action>
    <parameters>name='{data_center_name}', local={local}, version='{compatibility_version}'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
  </test_case>
<test_case>
    <test_name>Create Data Center</test_name>
    <test_action>addDataCenter</test_action>
    <parameters>name='{data_center_name}_v31', local={local}, storage_type='e{storage_type_nfs}',version='3.1'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
</test_case>
<test_case>
    <test_name>Create Cluster With Default Parameters</test_name>
    <test_action>addCluster</test_action>
    <parameters>name='{cluster_name}_#loop_index',cpu='{cpu_name}',data_center='{data_center_name}',version='{compatibility_version}',on_error='migrate'</parameters>
    <positive>TRUE</positive>
    <run>loop(int{cluster_count})</run>
</test_case>
<test_case>
    <test_name>Create third cluster version=3.1 </test_name>
    <test_action>addCluster</test_action>
    <parameters>name='{cluster_name}_v31',cpu='{cpu_name}',data_center='{data_center_name}_v31',version='3.1',on_error='migrate'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
</test_case>
<test_case>
   <test_name>Add the first host </test_name>
   <test_action>addHost</test_action>
   <parameters>name='{vds[0]}', root_password='{vds_password[0]}', cluster='{cluster_name}_0', wait=False, vdcPort='{port}', reboot=False</parameters>
   <positive>TRUE</positive>
   <vital>TRUE</vital>
   <run>yes</run>
</test_case>
<test_case>
   <test_name>Create the Second Host</test_name>
   <test_action>addHost</test_action>
   <parameters>name='{vds[1]}', root_password='{vds_password[1]}', cluster='{cluster_name}_0', wait=False, reboot=False</parameters>
   <positive>TRUE</positive>
   <vital>TRUE</vital>
   <run>if(1&lt;len('[vds]'.split(',')))</run>
</test_case>
<test_case>
   <test_name>Create the third  Host</test_name>
   <test_action>addHost</test_action>
   <parameters>name='{vds[2]}', root_password='{vds_password[2]}', cluster='{cluster_name}_v31', wait=False, reboot=False</parameters>
   <positive>TRUE</positive>
   <vital>TRUE</vital>
   <run>if(2&lt;len('[vds]'.split(',')))</run>
</test_case>
<test_case>
   <test_name>Create the fourth  Host</test_name>
   <test_action>addHost</test_action>
   <parameters>name='{vds[3]}', root_password='{vds_password[3]}', cluster='{cluster_name}_1', wait=False, reboot=False</parameters>
   <positive>TRUE</positive>
   <vital>TRUE</vital>
   <run>if(3&lt;len('[vds]'.split(',')))</run>
</test_case>
<test_case>
   <test_name>Wait for host is UP</test_name>
   <test_action>waitForHostsStates</test_action>
   <parameters>names='{vds[1]}'</parameters>
   <positive>TRUE</positive>
   <vital>TRUE</vital>
   <run>if(not 1&lt;len('[vds]'.split(',')))</run>
</test_case>
<test_case>
   <test_name>Wait for all hosts are UP</test_name>
   <test_action>waitForHostsStates</test_action>
   <parameters>names='{vds[0]}, {vds[1]}'</parameters>
   <positive>TRUE</positive>
   <vital>TRUE</vital>
   <run>if(not 2&lt;len('[vds]'.split(',')))</run>
</test_case>
<test_case>
   <test_name>Wait for all hosts are UP</test_name>
   <test_action>waitForHostsStates</test_action>
   <parameters>names='{vds[0]}, {vds[1]}, {vds[2]}'</parameters>
   <positive>TRUE</positive>
   <vital>TRUE</vital>
   <run>if(not 3&lt;len('[vds]'.split(',')))</run>
</test_case>
<test_case>
   <test_name>Wait for all hosts are UP</test_name>
   <test_action>waitForHostsStates</test_action>
   <parameters>names='{vds[0]}, {vds[1]}, {vds[2]}, {vds[3]}'</parameters>
   <positive>TRUE</positive>
   <vital>TRUE</vital>
   <run>if(3&lt;len('[vds]'.split(',')))</run>
</test_case>

<test_case>
    <test_name>END_GROUP: SETUP-ENV</test_name>
    <test_action/>
    <parameters></parameters>
    <positive>NONE</positive>
    <run>YES</run>
</test_case>
</input>
