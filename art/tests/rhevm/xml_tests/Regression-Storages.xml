<?xml version='1.0' encoding='utf-8'?>
<!-- vim: set ts=3 sw=3 expandtab: -->
<?xml-stylesheet type="text/xsl" href="table.xslt"?>
<input>
  <!-- ////////////////////////// SETUP /////////////////////////////// -->
  <test_case>
    <id>99facd22-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Create default data center</test_name>
    <test_action>addDataCenter</test_action>
    <parameters>name='DefaultRest', storage_type='e{storage_type_nfs}', version='{compatibility_version}'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <test_description/>
  </test_case>
  <test_case>
    <id>99fad11e-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Create cluster with default parameters</test_name>
    <test_action>addCluster</test_action>
    <parameters>name='RestCluster1', cpu='{cpu_name}', data_center='DefaultRest', version='{compatibility_version}', on_error='migrate'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
  </test_case>
  <test_case>
    <id>99fad344-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Create host</test_name>
    <test_action>addHost</test_action>
    <parameters>name='{vds[0]}', root_password='{vds_password[0]}', cluster='RestCluster1', wait=False, vdcPort='{port}'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
  </test_case>
  <test_case>
    <id>99fad538-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Create iSCSI data center with name of removed one</test_name>
    <test_action>addDataCenter</test_action>
    <parameters>name='RestDataCenter2', storage_type='e{storage_type_iscsi}', version='{compatibility_version}'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
  </test_case>
  <test_case>
    <id>99fad72c-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Create cluster for iSCSI storage</test_name>
    <test_action>addCluster</test_action>
    <parameters>name='RestCluster3', cpu='{cpu_name}', data_center='RestDataCenter2', version='{compatibility_version}'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
  </test_case>
  <test_case>
    <id>99fad920-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Wait until single host is up</test_name>
    <test_action>waitForHostsStates</test_action>
    <parameters>names='{vds[0]}'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <vital>TRUE</vital>
  </test_case>
  <test_case>
    <id>99fadb0a-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Set host to maintenance to use cluster with local storage</test_name>
    <test_action>deactivateHost</test_action>
    <parameters>host='{vds[0]}'</parameters>
    <positive>TRUE</positive>
    <run>if('{compatibility_version}'.startswith('3.'))</run>
  </test_case>
  <test_case>
    <id>99fadcfe-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Create local storage data center</test_name>
    <test_action>addDataCenter</test_action>
    <parameters>name='RestDataCenter_LOCAL', storage_type='e{storage_type_local}', version='{compatibility_version}'</parameters>
    <positive>TRUE</positive>
    <run>if('{compatibility_version}'.startswith('3.'))</run>
  </test_case>
  <test_case>
    <id>99fadee8-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Create cluster for local storage</test_name>
    <test_action>addCluster</test_action>
    <parameters>name='RestCluster_LOCAL', cpu='{cpu_name}', data_center='RestDataCenter_LOCAL', version='{compatibility_version}'</parameters>
    <positive>TRUE</positive>
    <run>if('{compatibility_version}'.startswith('3.'))</run>
  </test_case>
  <test_case>
    <id>99fae0c8-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Update host to use cluster with local storage</test_name>
    <test_action>updateHost</test_action>
    <parameters>host='{vds[0]}', cluster='RestCluster_LOCAL'</parameters>
    <positive>TRUE</positive>
    <run>if('{compatibility_version}'.startswith('3.'))</run>
  </test_case>
  <test_case>
    <id>99fae2b2-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Activate host with local storage cluster</test_name>
    <test_action>activateHost</test_action>
    <parameters>host='{vds[0]}'</parameters>
    <positive>TRUE</positive>
    <run>if('{compatibility_version}'.startswith('3.'))</run>
  </test_case>
  <!-- ////////////////////////////////////////////////////////////////////// -->
  <!-- ////////////////////////// LOCAL STORAGE ///////////////////////////// -->
  <!-- ////////////////////////////////////////////////////////////////////// -->
  <test_case>
    <id>99fae4a6-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Create local data storage domain</test_name>
    <test_action>addStorageDomain</test_action>
    <parameters>name='RestDataDomain_LOCAL', type='e{storage_dom_type_data}', storage_type='e{storage_type_local}', host='{vds[0]}', path='{local_domain_path}'</parameters>
    <positive>TRUE</positive>
    <run>if('{compatibility_version}'.startswith('3.'))</run>
    <conf>headers={'Correlation-Id': 201}</conf>
  </test_case>
  <test_case>
    <id>99fae69a-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Remove cluster that is used by a host</test_name>
    <test_action>removeCluster</test_action>
    <parameters>cluster='RestCluster_LOCAL'</parameters>
    <positive>FALSE</positive>
    <run>if('{compatibility_version}'.startswith('3.'))</run>
  </test_case>
  <test_case>
    <id>99fae884-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Remove datacenter with active storages</test_name>
    <test_action>removeDataCenter</test_action>
    <parameters>datacenter='RestDataCenter_LOCAL'</parameters>
    <positive>FALSE</positive>
    <run>if('{compatibility_version}'.startswith('3.'))</run>
  </test_case>
  <test_case>
    <id>99faea64-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Wait for SPM election complete - before creating vm on local storages</test_name>
    <test_action>waitForSPM</test_action>
    <parameters>datacenter='RestDataCenter_LOCAL', timeout=120, sleep=5</parameters>
    <positive>NONE</positive>
    <run>if(1&lt;len('[vds]'.split(',')))</run>
  </test_case>
  <test_case>
    <id>99faec4e-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Create VM with default parameters in local storage</test_name>
    <test_action>addVm</test_action>
    <parameters>name='restvm_LOCAL', description='Test VM LOCAL', cluster='RestCluster_LOCAL'</parameters>
    <positive>TRUE</positive>
    <run>if('{compatibility_version}'.startswith('3.'))</run>
    <conf>headers={'Correlation-Id': 202}</conf>
  </test_case>
  <test_case>
    <id>99faeea6-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Add cow virtio data disk to VM on local storage domain</test_name>
    <test_action>addDiskToVm</test_action>
    <parameters>vm='restvm_LOCAL', size=2147483648, storagedomain='RestDataDomain_LOCAL', type='e{disk_type_data}', format='e{format_cow}', interface='e{interface_virtio}'</parameters>
    <positive>TRUE</positive>
    <run>if('{compatibility_version}'.startswith('3.'))</run>
    <conf>headers={'Correlation-Id': 203}</conf>
    <exp_events>2</exp_events>
  </test_case>
  <test_case>
    <id>99faf09a-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Start VM that uses local storage</test_name>
    <test_action>startVm</test_action>
    <parameters>vm='restvm_LOCAL'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 204}</conf>
  </test_case>
  <test_case>
    <id>99faf284-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Set host to maintenance with running VMs</test_name>
    <test_action>deactivateHost</test_action>
    <parameters>host='{vds[0]}'</parameters>
    <positive>FALSE</positive>
    <run>yes</run>
  </test_case>
  <test_case>
    <id>99faf46e-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Wait for SPM election complete - before suspending vm on local storages</test_name>
    <test_action>waitForSPM</test_action>
    <parameters>datacenter='RestDataCenter_LOCAL', timeout=120, sleep=5</parameters>
    <positive>NONE</positive>
    <run>yes</run>
  </test_case>
  <test_case>
    <id>99faf658-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Suspend VM that uses local storage</test_name>
    <test_action>suspendVm</test_action>
    <parameters>vm='restvm_LOCAL'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 205}</conf>
    <exp_events>2</exp_events>
  </test_case>
  <test_case>
    <id>99faf842-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Stop suspended VM that uses local storage</test_name>
    <test_action>stopVm</test_action>
    <parameters>vm='restvm_LOCAL'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 206}</conf>
  </test_case>
  <test_case>
    <id>99fafa2c-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Start stopped VM that uses local storage</test_name>
    <test_action>startVm</test_action>
    <parameters>vm='restvm_LOCAL'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 207}</conf>
  </test_case>
  <test_case>
    <id>99fafc0c-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Stop running VM that uses local storage</test_name>
    <test_action>stopVm</test_action>
    <parameters>vm='restvm_LOCAL'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 208}</conf>
  </test_case>
  <test_case>
    <id>99fafdf6-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Remove VM that uses local storage</test_name>
    <test_action>removeVm</test_action>
    <parameters>vm='restvm_LOCAL'</parameters>
    <positive>TRUE</positive>
    <run>if('{compatibility_version}'.startswith('3.'))</run>
    <conf>headers={'Correlation-Id': 209}</conf>
    <exp_events>2</exp_events>
  </test_case>
  <test_case>
    <id>99faffe0-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Deactivate local storage domain</test_name>
    <test_action>deactivateStorageDomain</test_action>
    <parameters>datacenter='RestDataCenter_LOCAL', storagedomain='RestDataDomain_LOCAL'</parameters>
    <positive>TRUE</positive>
    <run>if('{compatibility_version}'.startswith('3.'))</run>
    <conf>headers={'Correlation-Id': 210}</conf>
  </test_case>
  <test_case>
    <id>99fb01ca-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Remove local data center</test_name>
    <test_action>removeDataCenters</test_action>
    <parameters>datacenters='RestDataCenter_LOCAL'</parameters>
    <positive>TRUE</positive>
    <run>if('{compatibility_version}'.startswith('3.'))</run>
    <conf>headers={'Correlation-Id': 211}</conf>
  </test_case>
  <test_case>
    <id>99fb03aa-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Set host to maintenance to change cluster back to use iSCSI storage</test_name>
    <test_action>deactivateHost</test_action>
    <parameters>host='{vds[0]}'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
  </test_case>
  <!-- /////////////////// CHANGE HOST CLUSTER BACK (ISCSI)////////////////// -->
  <test_case>
    <id>99fb059e-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Update host cluster</test_name>
    <test_action>updateHost</test_action>
    <parameters>host='{vds[0]}', cluster='RestCluster3'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
  </test_case>
  <test_case>
    <id>99fb0788-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Activate host with new cluster</test_name>
    <test_action>activateHost</test_action>
    <parameters>host='{vds[0]}'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
  </test_case>
  <!-- ////////////////////////////////////////////////////////////////////// -->
  <!-- ///////////////////////// ISCSI ////////////////////////////////////// -->
  <!-- ////////////////////////////////////////////////////////////////////// -->
  <test_case>
    <id>99fb0986-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>iSCSI discover</test_name>
    <test_action>iscsiDiscover</test_action>
    <parameters>host='{vds[0]}', address='{lun_address}'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
  </test_case>
  <test_case>
    <id>99fb0b70-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>iSCSI login</test_name>
    <test_action>iscsiLogin</test_action>
    <parameters>host='{vds[0]}', address='{lun_address}', target='{lun_target}'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
  </test_case>
  <test_case>
    <id>99fb0d78-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Check storage/name in host collection</test_name>
    <test_action>xpathLinksHosts</test_action>
    <parameters>entity='{vds[0]}', link_name='storage', xpath='count(/host_storage/storage/type[text()="iscsi"])'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
  </test_case>
  <test_case>
    <id>99fb0f6c-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Create data storage domain iSCSI</test_name>
    <test_action>addStorageDomain</test_action>
    <parameters>name='ISCSIDataDomainRest', type='e{storage_dom_type_data}', storage_type='e{storage_type_iscsi}', host='{vds[0]}', lun='{lun}', lun_address='{lun_address}', lun_target='{lun_target}', lun_port=3260</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 214}</conf>
  </test_case>
  <test_case>
    <id>99fb1156-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Attach iSCSI storage domain to data center</test_name>
    <test_action>attachStorageDomain</test_action>
    <parameters>datacenter='RestDataCenter2', storagedomain='ISCSIDataDomainRest'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 215}</conf>
  </test_case>
  <test_case>
    <id>99fb1340-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Deactivate iSCSI storage domain</test_name>
    <test_action>deactivateStorageDomain</test_action>
    <parameters>datacenter='RestDataCenter2', storagedomain='ISCSIDataDomainRest'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 216}</conf>
  </test_case>
  <test_case>
    <id>99fb1570-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Remove iSCSI data center</test_name>
    <test_action>removeDataCenter</test_action>
    <parameters>datacenter='RestDataCenter2'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 217}</conf>
  </test_case>
  <test_case>
    <id>99fb1764-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Remove iSCSI storage domain</test_name>
    <test_action>removeStorageDomain</test_action>
    <parameters>storagedomain='ISCSIDataDomainRest', host='{vds[0]}', format='true'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 218}</conf>
  </test_case>
  <!-- ////////////////////// CHANGE HOST CLUSTER BACK (NFS) //////////////// -->
  <test_case>
    <id>99fb1958-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Set host to maintenance to update cluster back to use NFS storage</test_name>
    <test_action>deactivateHost</test_action>
    <parameters>host='{vds[0]}'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
  </test_case>
  <test_case>
    <id>99fb1b42-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Update host cluster back to use NFS storage</test_name>
    <test_action>updateHost</test_action>
    <parameters>host='{vds[0]}', cluster='RestCluster1'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
  </test_case>
  <test_case>
    <id>99fb1d36-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Activate host with cluster updated back to NFS storage</test_name>
    <test_action>activateHost</test_action>
    <parameters>host='{vds[0]}'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
  </test_case>
  <!-- ////////////////////////////////////////////////////////////////////// -->
  <!-- //////////////////////////// NFS STORAGE ///////////////////////////// -->
  <!-- ////////////////////////////////////////////////////////////////////// -->
  <test_case>
    <id>99fb1f34-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Create NFS data storage domain</test_name>
    <test_action>addStorageDomain</test_action>
    <parameters>name='DataDomainRest', type='e{storage_dom_type_data}', storage_type='e{storage_type_nfs}', address='{data_domain_address[0]}', host='{vds[0]}', path='{data_domain_path[0]}'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 219}</conf>
  </test_case>
  <test_case>
    <id>99fb2114-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Attach NFS data storage domain to data center</test_name>
    <test_action>attachStorageDomain</test_action>
    <parameters>datacenter='DefaultRest', storagedomain='DataDomainRest'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 220}</conf>
  </test_case>
  <test_case>
    <id>99fb22fe-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Check whether there is files collection in data storage domain</test_name>
    <test_action>xpathStoragedomains</test_action>
    <parameters>'storagedomains', xpath='count(/storage_domains/storage_domain[name="DataDomainRest" and link[@rel="files"]])'</parameters>
    <positive>FALSE</positive>
    <run>yes</run>
  </test_case>
  <test_case>
    <id>99fb28bc-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Detach active NFS storage domain</test_name>
    <test_action>detachStorageDomain</test_action>
    <parameters>datacenter='DefaultRest', storagedomain='DataDomainRest'</parameters>
    <positive>FALSE</positive>
    <run>yes</run>
  </test_case>
  <test_case>
    <id>99fb2ab0-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Activate active NFS storage domain</test_name>
    <test_action>activateStorageDomain</test_action>
    <parameters>datacenter='DefaultRest', storagedomain='DataDomainRest'</parameters>
    <positive>FALSE</positive>
    <run>yes</run>
  </test_case>
  <test_case>
    <id>99fb2c9a-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Update storage domain name</test_name>
    <test_action>updateStorageDomain</test_action>
    <parameters>storagedomain='DataDomainRest', name='DataDomainRestUpd'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 221}</conf>
  </test_case>
  <test_case>
    <id>99fb2e84-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Update NFS data storage domain type to export</test_name>
    <test_action>updateStorageDomain</test_action>
    <parameters>storagedomain='DataDomainRestUpd', type='e{storage_dom_type_export}'</parameters>
    <positive>FALSE</positive>
    <run>yes</run>
  </test_case>
  <test_case>
    <id>99fb306e-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Update NFS data storage domain storage type to iSCSI</test_name>
    <test_action>updateStorageDomain</test_action>
    <parameters>storagedomain='DataDomainRestUpd', storage_type='e{storage_type_iscsi}'</parameters>
    <positive>FALSE</positive>
    <run>yes</run>
  </test_case>
  <!-- ////////////////////////////////////////////////////////////////////// -->
  <!-- /////////////////////// ISO STORAGE ////////////////////////////////// -->
  <!-- ////////////////////////////////////////////////////////////////////// -->
  <test_case>
    <id>99fb344c-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Create storage domain with spaces in name</test_name>
    <test_action>addStorageDomain</test_action>
    <parameters>name='ISO Domain', type='e{storage_dom_type_iso}', storage_type='e{storage_type_nfs}', address='{tests_iso_domain_address}', host='{vds[0]}', path='{tests_iso_domain_path}'</parameters>
    <positive>FALSE</positive>
    <run>yes</run>
  </test_case>
  <test_case>
    <id>99fb3640-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Create ISO storage domain NFS</test_name>
    <test_action>addStorageDomain</test_action>
    <parameters>name='ISODomainRest', type='e{storage_dom_type_iso}', storage_type='e{storage_type_nfs}', address='{tests_iso_domain_address}', host='{vds[0]}', path='{tests_iso_domain_path}'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 222}</conf>
  </test_case>
  <test_case>
    <id>99fb382a-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Attach ISO storage domain to data center</test_name>
    <test_action>attachStorageDomain</test_action>
    <parameters>datacenter='DefaultRest', storagedomain='ISODomainRest'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 223}</conf>
  </test_case>
  <test_case>
    <id>99fb3c44-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Activate ISO storage domain</test_name>
    <test_action>activateStorageDomain</test_action>
    <parameters>datacenter='DefaultRest', storagedomain='ISODomainRest'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 224}</conf>
  </test_case>
  <!-- //////////////////// REMOVE ISO STORAGE ////////////////////////////// -->
  <test_case>
    <id>99fb4036-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Deactivate ISO storage domain</test_name>
    <test_action>deactivateStorageDomain</test_action>
    <parameters>datacenter='DefaultRest', storagedomain='ISODomainRest'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 224}</conf>
    <exp_events>2</exp_events>
  </test_case>
  <test_case>
    <id>99fb440a-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Remove attached ISO storage domain</test_name>
    <test_action>removeStorageDomain</test_action>
    <parameters>storagedomain='ISODomainRest', host='{vds[0]}', format='false'</parameters>
    <positive>FALSE</positive>
    <run>yes</run>
  </test_case>
  <test_case>
    <id>99fb45ea-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Detach inactive ISO storage domain</test_name>
    <test_action>detachStorageDomain</test_action>
    <parameters>datacenter='DefaultRest', storagedomain='ISODomainRest'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 225}</conf>
  </test_case>
  <test_case>
    <id>99fb49be-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Remove detached ISO storage domain</test_name>
    <test_action>removeStorageDomain</test_action>
    <parameters>storagedomain='ISODomainRest', host='{vds[0]}', format='false'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 226}</conf>
  </test_case>
  <!-- /////////////////// IMPORT PREVIOUSLY DELETED STORAGE //////////////// -->
  <test_case>
    <id>99fb4d9c-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Import ISO storage domain</test_name>
    <test_action>importStorageDomain</test_action>
    <parameters>type='e{storage_dom_type_iso}', storage_type='e{storage_type_nfs}', address='{tests_iso_domain_address}', host='{vds[0]}', path='{tests_iso_domain_path}'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 227}</conf>
  </test_case>
  <test_case>
    <id>99fb517a-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Remove ISO storage domain from storage</test_name>
    <test_action>removeStorageDomain</test_action>
    <parameters>storagedomain='ISODomainRest', host='{vds[0]}', format='true'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 228}</conf>
  </test_case>
  <!-- ////////////////////////////////////////////////////////////////////// -->
  <!-- ///////////////////////// EXPORT STORAGE ///////////////////////////// -->
  <!-- ////////////////////////////////////////////////////////////////////// -->
  <test_case>
    <id>99fb5562-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Create export storage domain NFS</test_name>
    <test_action>addStorageDomain</test_action>
    <parameters>name='ExportDomainRest', type='e{storage_dom_type_export}', storage_type='e{storage_type_nfs}', address='{export_domain_address}', host='{vds[0]}', path='{export_domain_path}'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 229}</conf>
  </test_case>
  <test_case>
    <id>99fb5936-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Attach export storage domain to data center</test_name>
    <test_action>attachStorageDomain</test_action>
    <parameters>datacenter='DefaultRest', storagedomain='ExportDomainRest'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 230}</conf>
  </test_case>
  <test_case>
    <id>99fb5d0a-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Activate export storage domain</test_name>
    <test_action>activateStorageDomain</test_action>
    <parameters>datacenter='DefaultRest', storagedomain='ExportDomainRest'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 231}</conf>
  </test_case>
  <!-- ////////////////////////////////////////////////////////////////////// -->
  <!-- ///////////////////////// SECOND NFS STORAGE ///////////////////////// -->
  <!-- ////////////////////////////////////////////////////////////////////// -->
  <test_case>
    <id>99fb60e8-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Create second NFS data storage domain</test_name>
    <test_action>addStorageDomain</test_action>
    <parameters>name='DataDomainRest2', type='e{storage_dom_type_data}', storage_type='e{storage_type_nfs}', address='{data_domain_address[1]}', host='{vds[0]}', path='{data_domain_path[1]}'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 232}</conf>
  </test_case>
  <test_case>
   <test_name>Search for second NFS storage domain</test_name>
   <test_type>rest</test_type>
   <test_action>searchForStorageDomain</test_action>
   <parameters>query_key='name', query_val='Data*', key_name='name'</parameters>
   <positive>TRUE</positive>
   <run>yes</run>
</test_case>
  <test_case>
    <id>99fb6318-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Attach second data storage domain to data center</test_name>
    <test_action>attachStorageDomain</test_action>
    <parameters>datacenter='DefaultRest', storagedomain='DataDomainRest2'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 233}</conf>
  </test_case>
  <test_case>
    <id>99fb6502-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Activate second NFS storage domain</test_name>
    <test_action>activateStorageDomain</test_action>
    <parameters>datacenter='DefaultRest', storagedomain='DataDomainRest2'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 234}</conf>
  </test_case>
  <!-- ////////////////////////////////////////////////////////////////////// -->
  <!-- ////////////////// REMOVE AND IMPORT STORAGE ///////////////////////// -->
  <!-- ////////////////////////////////////////////////////////////////////// -->
  <test_case>
    <id>99fb68ea-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Deactivate export storage domain</test_name>
    <test_action>deactivateStorageDomain</test_action>
    <parameters>datacenter='DefaultRest', storagedomain='ExportDomainRest'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 235}</conf>
  </test_case>
  <test_case>
    <id>99fb6aca-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Detach active storage domain</test_name>
    <test_action>detachStorageDomain</test_action>
    <parameters>datacenter='DefaultRest', storagedomain='ExportDomainRest'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 236}</conf>
  </test_case>
  <test_case>
    <id>99fb6cbe-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Remove export storage domain</test_name>
    <test_action>removeStorageDomain</test_action>
    <parameters>storagedomain='ExportDomainRest', host='{vds[0]}', format='false'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 237}</conf>
  </test_case>
  <test_case>
    <id>99fb6ea8-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Import previously removed storage domain</test_name>
    <test_action>importStorageDomain</test_action>
    <parameters>type='e{storage_dom_type_export}', storage_type='e{storage_type_nfs}', address='{export_domain_address}', host='{vds[0]}', path='{export_domain_path}'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 238}</conf>
  </test_case>
  <test_case>
    <id>99fb7092-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Attach imported storage domain to data center</test_name>
    <test_action>attachStorageDomain</test_action>
    <parameters>datacenter='DefaultRest', storagedomain='ExportDomainRest'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 239}</conf>
  </test_case>
  <test_case>
    <id>99fb7466-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Activate imported storage domain</test_name>
    <test_action>activateStorageDomain</test_action>
    <parameters>datacenter='DefaultRest', storagedomain='ExportDomainRest'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 240}</conf>
  </test_case>
  <test_case>
    <id>99fb783a-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Deactivate imported storage domain</test_name>
    <test_action>deactivateStorageDomain</test_action>
    <parameters>datacenter='DefaultRest', storagedomain='ExportDomainRest'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 241}</conf>
  </test_case>
  <test_case>
    <id>99fb7a24-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Detach imported active storage domain</test_name>
    <test_action>detachStorageDomain</test_action>
    <parameters>datacenter='DefaultRest', storagedomain='ExportDomainRest'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 242}</conf>
  </test_case>
  <test_case>
    <id>99fb7c0e-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Remove imported storage domain</test_name>
    <test_action>removeStorageDomain</test_action>
    <parameters>storagedomain='ExportDomainRest', host='{vds[0]}', format='true'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
    <conf>headers={'Correlation-Id': 243}</conf>
  </test_case>
  <!-- ////////////////////////// TEARDOWN /////////////////////////////// -->
  <test_case>
    <id>99fb7e02-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Deactivate non-master storage domain</test_name>
    <test_action>deactivateStorageDomain</test_action>
    <parameters>datacenter='DefaultRest', storagedomain='DataDomainRest2'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
  </test_case>
  <test_case>
    <id>99fb7fec-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Deactivate master storage domain</test_name>
    <test_action>deactivateStorageDomain</test_action>
    <parameters>datacenter='DefaultRest', storagedomain='DataDomainRestUpd'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
  </test_case>
  <test_case>
    <id>99fb81d6-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Remove default datacenter</test_name>
    <test_action>removeDataCenter</test_action>
    <parameters>datacenter='DefaultRest'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
  </test_case>
  <test_case>
    <id>99fb83ca-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Remove master storage domain</test_name>
    <test_action>removeStorageDomain</test_action>
    <parameters>storagedomain='DataDomainRestUpd', host='{vds[0]}', format='true'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
  </test_case>
  <test_case>
    <id>99fb85b4-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Remove non-master storage domain</test_name>
    <test_action>removeStorageDomain</test_action>
    <parameters>storagedomain='DataDomainRest2', host='{vds[0]}', format='true'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
  </test_case>
  <test_case>
    <id>99fb87a8-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Set active first host to maintenance</test_name>
    <test_action>deactivateHost</test_action>
    <parameters>host='{vds[0]}'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
  </test_case>
  <test_case>
    <id>99fb89ec-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Remove first host</test_name>
    <test_action>removeHost</test_action>
    <parameters>host='{vds[0]}'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
  </test_case>
  <test_case>
    <id>99fb8bea-c695-11e1-ac4a-f0def10e0ce8</id>
    <test_name>Remove all remaining clusters</test_name>
    <test_action>removeClusters</test_action>
    <parameters>clusters='RestCluster3, RestCluster1, RestCluster_LOCAL'</parameters>
    <positive>TRUE</positive>
    <run>yes</run>
  </test_case>
</input>
